<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dom</title>
    <script src="js/jquery-3.6.0.js"></script>
    <style>
    .add {
        color: steelblue;
    }
    </style>
</head>
<body>
    <h1>dom</h1>
    <button id="btn0">요소추가</button>
    <div class="play"></div>
    <script>
    $(btn0).click(() => {
        // 1.새로운 요소추가
        const $play = $(".play");
        $play.html("<p>안녕!</p>"); // 문자열
        
        const $p = $("<p>잘가!</p>"); // 동적으로 생성된 p를 감싼 jquery객체
        $play.append($p); // $play의 마지막 자식요소로 $p 추가

        // js태그객체
        const pTag = document.createElement("p");
        pTag.innerHTML = "추워!";
        $play.append(pTag);

        // 2.기존요소추가: 이동
        $play.append($(btn0));
    });
    </script>

    <h1>기존요소 기준 요소추가</h1>
    <button id="btn1">append</button>
    <button id="btn2">prepend</button>
    <button id="btn3">after</button>
    <button id="btn4">before</button>
    <!-- (h1#test$>span{A})*4 -->
    <h1 id="test1"><span>A</span></h1>
    <h1 id="test2"><span>A</span></h1>
    <h1 id="test3"><span>A</span></h1>
    <hr>
    <h1 id="test4"><span>A</span></h1>
    <script>
    /**
     * 기존요소.append(새요소)
     * - 기존요소의 마지막 자식요소로 추가
     */
    (() => {
        let ch = 66;
        $(btn1).click(() => {
            $(test1)
                .append($(`<span class='add'>${String.fromCharCode(ch++)}</span>`))
                .css("border", "1px solid steelblue");
        });
    })();

    /**
     * 기존요소.prepend(새요소)
     * - 기존요소의 첫 자식요소로 추가
     */
     (() => {
        let ch = 66;
        $(btn2).click(() => {
            $(test2).prepend($(`<span class='add'>${String.fromCharCode(ch++)}</span>`))
        });
    })();

    /**
     * 기존요소.after(새요소)
     * - 기존요소의 다음 형제요소로 추가
     */
     (() => {
        let ch = 66;
        $(btn3).click(() => {
            $(test3).after($(`<span class='add'>${String.fromCharCode(ch++)}</span>`))
        });
    })();

    /**
     * 기존요소.before(새요소)
     * - 기존요소의 이전 형제요소로 추가
     */
     (() => {
        let ch = 66;
        $(btn4).click(() => {
            $(test4).before($(`<span class='add'>${String.fromCharCode(ch++)}</span>`))
        });
    })();
    </script>

    <h1>추가될요소 기준 요소추가</h1>
    <!-- button#btn$@5*4 -->
    <button id="btn5">appendTo</button>
    <button id="btn6">prependTo</button>
    <button id="btn7">insertAfter</button>
    <button id="btn8">insertBefore</button>

    <!-- (h1#test$@5>span{A})*4 -->
    <h1 id="test5"><span>A</span></h1>
    <h1 id="test6"><span>A</span></h1>
    <h1 id="test7"><span>A</span></h1>
    <hr>
    <h1 id="test8"><span>A</span></h1>

    <script>
    /**
     * 새요소.appendTo(기존요소)
     * - 기존요소의 마지막 자식요소로 추가
     */
    (() => {
        let ch = 66;
        $(btn5).click(() => {
            $(`<span class='add'>${String.fromCharCode(ch++)}</span>`)
                .appendTo($(test5))
                .css("border", "1px solid steelblue");
        });
    })();

    /**
     * 새요소.prependTo(기존요소)
     * - 기존요소의 첫 자식요소로 추가
     */
     (() => {
        let ch = 66;
        $(btn6).click(() => {
            $(`<span class='add'>${String.fromCharCode(ch++)}</span>`)
                .prependTo($(test6))
                .css("border", "1px solid steelblue");
        });
    })();

    /**
     * 새요소.insertAfter(기존요소)
     * - 기존요소의 다음 형제요소로 추가
     */
     (() => {
        let ch = 66;
        $(btn7).click(() => {
            $(`<span class='add'>${String.fromCharCode(ch++)}</span>`)
                .insertAfter($(test7))
                .css("border", "1px solid steelblue");
        });
    })();

    /**
     * 새요소.insertBefore(기존요소)
     * - 기존요소의 이전 형제요소로 추가
     */
     (() => {
        let ch = 66;
        $(btn8).click(() => {
            $(`<span class='add'>${String.fromCharCode(ch++)}</span>`)
                .insertBefore($(test8))
                .css("border", "1px solid steelblue");
        });
    })();
    </script>

    <h1>요소복제 | 제거</h1>
    <button id="btn9">clone</button>
    <button id="btn10">remove | detach</button>
    <button id="btn11">empty</button>
    <div class="original">
        <div class="item"></div>
    </div>
    <div class="target"></div>
    <script>
    $(".item").hover((e) => {
        //mouseenter
        $(e.target).addClass("lime");
    }, (e) => {
        // mouseleave
        $(e.target).removeClass("lime");
    });

    /**
     * clone(eventHandling:boolean)
     *  - 이벤트핸들링 복제여부 기본값은 false;
     */
    $(btn9).click((e) => {
        const $clonedItem = $(".original .item").clone(true);
        console.log($clonedItem);

        $clonedItem.appendTo($(".target"));
        // $(".target").append($clonedItem)

    });

    /**
     * 요소제거
     *  - remove : 이벤트핸들링이 제거된 삭제요소를 반환
     *  - detach : 이벤트핸들링이 포함된 삭제요소를 반환
     */
    $(btn10).click((e) => {
        // const $removedItem = $(".original .item").remove();
        // $(".target").append($removedItem);
        const $removedItem = $(".original .item").detach();
        $(".target").append($removedItem);
    });

    /**
     * 모든 자식요소제거
     *  - empty
     */
    $(btn11).click(() => {
        $(".original, .target").empty();
    });
    </script>
    <style>
    .original, .target {
        border: 3px solid gray;
        padding: 5px;
        margin: 10px 0;
        min-height: 100px;
    }
    .item {
        width: 100px;
        height: 100px;
        display: inline-block;
        border: 3px solid #000;
    }
    .lime {
        background-color: lime;
    }
    </style>


    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</body>
</html>