<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>access dom</title>   
</head>
<body>
    <h1>access dom</h1>
    <!---
        DOM Document Object Model
        html의 모든 태그를 자바스크립트객체로 등록.
        document객체를 통해 접근이 가능.
    -->
    <!-- div.wrapper>ul>li#li$.foo{안녕$}*5 -->
    <div class="wrapper">
        <ul>
            <li id="li1" class="foo">안녕1</li>
            <li id="li2" class="foo">안녕2</li>
            <li id="li3" class="foo">안녕3</li>
            <li id="li4" class="foo">안녕4</li>
            <li id="li5" class="foo">안녕5</li>
        </ul>
    </div>
    <button id="btn1" onclick="test1();">getElementById</button>
    <button id="btn1" onclick="test2();">getElementsByTagName</button>
    <button id="btn1" onclick="test3();">getElementsByClassName</button>
    <script>
    /**
     * var
     * 
     * let 변수선언
     * const 상수선언
     */
    function test3() {
        let elems = document.getElementsByClassName("foo");
        console.log(elems, typeof elems);
        // backgroundColor를 좋아하는 컬러이름으로 변경하기
        for(let i = 0; i < elems.length; i++){
            elems[i].style.backgroundColor = 'springgreen';
        }
    }
    function test2() {
        var elems = document.getElementsByTagName("li");
        console.log(elems,typeof elems);

        for(var i = 0; i < elems.length; i++){
            var li = elems[i];
            console.log(li);
            li.innerHTML = "잘가" + (i + 1);
        }
    }
    /**
     * id 접근
     * tag명 접근
     * class 접근
     */
    function test1() {
        var elem = document.getElementById("li3333");
        // 존재하지 않는 아이디 참조시 null 리턴 -> null은 object타입.
        console.log(elem, typeof elem);
        console.dir(elem);
        // getter/setter
        console.log(elem.innerHTML); // getter
        elem.innerHTML = "잘가요~"; // setter
    
        elem.style.color = "hotpink";
    
        alert(123);
    }
    </script>

    

    <fieldset style="margin-top: 30px;">
        <legend>Favorite movies</legend>
        <!-- (input:checkbox[name=movie][value]#movie$+label[for=movie$])*5 -->
        <input type="checkbox" name="movie" id="movie1" value="베테랑"><label for="movie1">베테랑</label>
        <input type="checkbox" name="movie" id="movie2" value="어거스트러시"><label for="movie2">어거스트러시</label>
        <input type="checkbox" name="movie" id="movie3" value="해리포터"><label for="movie3">해리포터</label>
        <input type="checkbox" name="movie" id="movie4" value="어벤져스"><label for="movie4">어벤져스</label>
        <input type="checkbox" name="movie" id="movie5" value="그린나이트"><label for="movie5">그린나이트</label>
    
        <br>
        <!-- this용법1: 태그의 이벤트속성에서 사용된 this는 태그객체 자신을 가르킨다. -->

        <input type="checkbox" id="checkAll" onchange="checkAllOrNone(this);"><label for="checkAll">모두선택/해제</label>

    </fieldset>
    <button onclick="test4();">getElementsByName</button>
    <script>
    function checkAllOrNone(elem){
        // const checkAll = document.getElementById("checkAll");
        const movies = document.getElementsByName("movie");
        console.log(elem);
        console.log(elem.checked);
        
        for(let i = 0; i < movies.length; i++){
            movies[i].checked = elem.checked;
        }
    }
    /**
     * name속성
     */
    function test4() {
        let movies = document.getElementsByName("movie");
        console.log(movies);
        for(let i = 0; i < movies.length; i++){
            //console.dir(movies[i]);
            //if(movies[i].checked){
             //   console.log(movies[i].value);
            //}
            movies[i].checked = false;
        }
    }    
    </script>

    
    <h2>21/10/01</h2>
    <h2>css선택자를 이용한 dom접근</h2>
    <button onclick="test5();">querySelector</button>
    <button onclick="test6();">querySelectorAll</button>

    <!-- div>(p.koo>lorem)*3 -->
    <div>
        <p class="koo">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Blanditiis nulla nesciunt accusantium! Debitis delectus rem saepe tempore facere animi. Dicta nihil rem explicabo nesciunt voluptas impedit accusamus sint perferendis voluptatem.</p>
        <p id="myp" class="koo">Dolorem voluptatibus, laborum explicabo totam suscipit reprehenderit temporibus odit placeat delectus aperiam hic, dicta quidem, nam vel! Minus dolorem necessitatibus dolorum excepturi, voluptates distinctio molestias placeat, veritatis reiciendis, quibusdam eos!</p>
        <p class="koo">Omnis ipsa quod expedita magnam a culpa eum officia magni ad iusto, mollitia similique quidem corporis nihil, tempore in eveniet architecto sapiente atque exercitationem veniam earum incidunt perferendis? Perspiciatis, voluptatum?</p>
    </div>

    <script>
    /**
     * querySelectorAll(css selector)
     * 해당하는 태그 전부를 배열로 리턴
     */
    function test6() {
        const elems = document.querySelectorAll(".koo");
        console.log(elems);

        let b = 50;
        for(let i = 0; i < elems.length; i++) {
            elems[i].style.backgroundColor = "rgb(100, 100, " + b + ")";
            b += 50;
        }
    }

    /**
     * querySelector(css selector)
     * 부합하는 태그 중 첫번째 요소를 리턴
     */
    function test5() {
        const p = document.querySelector("#myp");
        console.log(p);
        p.style.color = "tomato";
    }
    </script>

    <section>
        <h2>수강신청</h2>
        <table>
            <tr>
                <td colspan="5">
                    <input type="checkbox" id="checkAll2" onclick="checkAllSubject(this);">
                    <label for="checkAll2">모두선택/해제</label>
                </td>
            </tr>
            <tr>
                <td class="font">
                    <input type="checkbox" name="subject" id="subject1" onclick="checkSubject(this);">
                    <label for="subject1">국어</label>
                </td>
                <td class="font">
                    <input type="checkbox" name="subject" id="subject2" onclick="checkSubject(this);">
                    <label for="subject2">영어</label>
                </td>
                <td class="font">
                    <input type="checkbox" name="subject" id="subject3" onclick="checkSubject(this);">
                    <label for="subject3">수학</label>
                </td>
                <td class="font">
                    <input type="checkbox" name="subject" id="subject4" onclick="checkSubject(this);">
                    <label for="subject4">사회</label>
                </td>
                <td class="font">
                    <input type="checkbox" name="subject" id="subject5" onclick="checkSubject(this);">
                    <label for="subject5">과학 </label>
                </td>
            </tr>
        </table>
    </section>
    <script>
    /**
     * 전체체크박스 -> 개별체크박스 제어
     */
    function checkAllSubject(checkAll){
        const subjects = document.querySelectorAll("[name=subject]");
        
        for(let i = 0; i < subjects.length; i++) {
            subjects[i].checked = checkAll.checked;
            const td = subjects[i].parentElement;
            if(checkAll.checked)
                td.classList.add("on");
            else
                td.classList.remove("on");
        }
    }

    /**
     * 개별체크박스 -> 전체체크박스 제어
     */
    function checkSubject(subject) {
        //console.log(subject);
        const td = subject.parentElement;
        //console.log(td);
        if(subject.checked)
        //   td.className = "on font";
            td.classList.add("on");
        else
        //   td.className = "font";
            td.classList.remove("on");
        
        // 전체체크박스 제어
        const subjects = document.querySelectorAll("[name=subject]");
        for(let i = 0; i < subjects.length; i++){
            if(!subjects[i].checked) {
                checkAll2.checked = false;
                return;
            }
        }
        checkAll2.checked = true;
    }

    </script>


    <style>
    .font {
        font-family: "궁서", "serif";
    }
    section {
        text-align: center;
    }
    table {
        border: 1px solid #000;
        margin: auto;
        border-collapse: collapse;
    }
    td {
        border: 1px solid #000;
        padding: 10px;
    }
    .on {
        background-color: cornflowerblue;
        color: #fff;
    }
    </style>


    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</body>
</html>