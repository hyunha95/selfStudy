<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>api</title>
</head>
<body>
    <h1>string</h1>
    <button onclick="test1();">실행</button>
    <button onclick="test2();">@실습문제</button>
    <script>
    /**
     * @실습문제 : 사용자로부터 영화제목을 입력받고, 알파벳의 개수를 출력하세요.
     * Inception, 난 mc.donald가 좋아~
     */
    function test2() {
        const movie = prompt("영화 제목을 입력하세요.");
        if(movie){
            let cnt = 0;
            for(let i = 0; i < movie.length; i++) {
                const ch = movie[i];
                if(ch >= 'A' && ch <= 'Z')
                    cnt++;
                if(ch >= 'a' && ch <= 'z')
                    cnt++;
            }
            // String Template '${javascript}' Tilde로 감쌀것!
            alert(`입
    력
        하
            신 문자열중 알파벳의 개수는 ${cnt}개입니다.`);
        }
    }

    /**
     * string내장객체
     */
    function test1() {
        const str = "apple Samsung Pineapple";
        console.log(str.length); //23
        console.log(str.charAt(1));
        console.log(str[1]);
        console.log(str.indexOf("app"));
        console.log(str.indexOf("bpp")); // -1

        // 잘라내기
        // str.substring(startIndex[, endIndex]): startIndex부터 endIndex전까지 문자열 반환
        console.log(str.substring(6, 9)); //Sam
        // str.substr(startIndex[, length]): startIndex부터 length개 문자열반환
        console.log(str.substr(6, 3));

        // 토큰처리
        const arr = str.split(" ");
        console.log(arr, typeof arr);
    }
    </script>

    21-10-05
    <h1>math</h1>
    <button onclick="test3();">실행</button>
    <button onclick="test4();">@실습문제</button>
    <ul id="nums">
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ul>
    <script>
    /**
     * #nums하위의 li태그에 1 ~ 1000사이의 임의의 수를 대입하고, 
     * 짝수인 경우에는 원하는 컬러(블루)로 지정한다.
     */
    function test4() {
        const list = document.querySelectorAll("#nums li");
        for(let i = 0; i < list.length; i++){
            const li = list[i];
            li.style.color =""; // 컬러초기화
            const n = Math.floor(Math.random() * 1000) + 1;
            li.innerText = n;
            if(n % 2 == 0)
                li.style.color = 'springgreen';
        }

        // 내 풀이
        // let num = document.getElementById("nums");
        // // console.dir(num);
        // for(let i = 0; i < num.children.length; i++) {
        //     num.children[i].innerHTML = Math.floor(Math.random() * 1000 + 1);
        //     if(num.children[i].innerHTML % 2 == 0){
        //         num.children[i].style.color = "blue";
        //     }
        // }
    }

    /**
     * 반올림/올림/버림 처리
     * 난수 생성
     */
    function test3() {
        const n = 123.456;
        console.log(Math.round(n)); // 123
        console.log(Math.round(n * 100) / 100); // 123.46
        
        console.log(Math.ceil(n)); // 124
        console.log(Math.floor(n)); // 123

        console.log(Math.random()); // 0.0이상 1.0미만의 실수를 리턴

        // 1 ~ 10사이의 난수(정수) 생성
        console.log(Math.floor((Math.random() * 10) + 1));
        
    }
    </script>


    <h1>date</h1>
    <button onclick="test5();">실행</button>
    <h1 style="color:tomato; text-align:center;" id="clock"></h1>
    <script>
    function displayClock() {
        const f = function(n){
            return n < 10 ? `0${n}` : n;
        };
        const now = new Date();
        const year = now.getFullYear();
        const month = f(now.getMonth() + 1);
        const date = f(now.getDate());
        const hour = f(now.getHours());
        const minute = f(now.getMinutes());
        const second = f(now.getSeconds());

        return `${year}-${month}-${date} ${hour}:${minute}:${second}`;
    }

    /**
     * 즉시실행함수 Immediately Invoked Function Expression IIFE
     */
    (function repeatClock() {
        clock.innerHTML = displayClock();
        setTimeout(repeatClock, 1000); // callback함수를 1000밀리초후에 실행
    })();

    // repeatClock();

    

    /**
     * Date 날짜/시각정보를 관리하는 객체
     * 기본생성자를 사용하면 현재시각정보를 가지고 있다.
     */
    function test5() {
        const today = new Date();
        console.log(today);
    
        const dday = new Date(2021, 12 - 1, 25, 0, 30, 20);
        console.log(dday);

        const holiday = new Date("2021-10-29");
        console.log(holiday);

        // unix time(epoch time) - 1970년 1월 1일 자정 기준으로 누적된 millis초
        console.log(new Date().getTime());
        console.log(Date.now());
    

    }
    </script>

    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</body>
</html>